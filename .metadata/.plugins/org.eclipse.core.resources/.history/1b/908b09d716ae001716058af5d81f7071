import java.util.ArrayList;

public class TreeConstructor {
	
//	INSTANCE VARIABLES
	
	
//	PUBLIC CONSTRUCTORS
	
//	call with root node
	public TreeConstructor(int h, int b, int a, Node node) {
//		t set to random value between -2500 and 2500
		int t = (int)(Math.random()*5000-2500+1);
		createTree(h,b,a,t,node);
	}
	
//	call with non-root node
	private TreeConstructor(int h, int b, int a, int t, Node node) {
		createTree(h,b,a,t,node);
	}
	
//	creates nodes with 
	private void createTree(int h, int b, int a, int t, Node node) {	
//		if interior node
		if (h > 1) {
//			e is t + value between -approx and approx
			int error = (int)(Math.random()*a*2-a);
//			set root node
			node.setE(t+error);
//			calc branches
			int bVar = (int)(Math.random()*100+1);
			int numDaughters = b;
			if (bVar <= 5) {
				numDaughters--;
			} else if (bVar <= 10) {
				numDaughters++;
			}
//			choose random daughter
			int randDaughterIndex = (int)(Math.random()*numDaughters);
//			create numDaughters daughters
			for(int i=numDaughters;i>0;i--) {
				int newT;
				if (i==randDaughterIndex) {
					newT = -1*t;
				} else {
					newT = 0;
				}
				Node daughter = new Node();
				node.addDaughter(daughter);
				createTree(h-1,b,a,newT,daughter);
			}
		}
//		if leaf node
		if (h == 1) {
//			set root node
			node.setE(t);
		}
	}
}
